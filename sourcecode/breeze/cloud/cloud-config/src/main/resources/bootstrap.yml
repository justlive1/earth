server:
  port: 11000

logging:
  file: config.log
  level.: info

spring:
  application:
    name: cloud-config
  profiles:
    active: native,security
  
  cloud:
    config:
      server:
        native:
          searchLocations: classpath:/config-repo,classpath:/config-repo/{application}
          order: 1
        git:
          uri: https://gitee.com/justlive1/earth.git
          searchPaths: config-repo
          basedir: /opt/earth/conifg-repo/
          forcePull: true
          order: 2
        encrypt:
          enabled: true
          

encrypt:
  keyStore:
    location: classpath:/configServer.jks
    password: letmein
    alias: config.earth.com
    secret: justlive1
    

eureka:
  instance:
    preferIpAddress: true
    instanceId: ${spring.cloud.client.ipAddress}:${server.port}
  client:
    serviceUrl:
      defaultZone: http://registry.earth.com:12000/registry/
      
---
spring:
  profiles: insecurity

management:
  security:
    enabled: false


---
spring:
  profiles: security
  boot:
    auth: 
      enabled: true

eureka:
  instance:
    metadataMap:
      user.name: ${security.user.name}
      user.password: ${security.user.password}
      
security:
  user:
    name: mgmt
    password: mgmt-security